[{"C:\\Users\\27000\\Desktop\\Parser\\src\\index.js":"1","C:\\Users\\27000\\Desktop\\Parser\\src\\App.js":"2","C:\\Users\\27000\\Desktop\\Parser\\src\\components\\Main.js":"3","C:\\Users\\27000\\Desktop\\Parser\\src\\components\\Header.js":"4","C:\\Users\\27000\\Desktop\\Parser\\src\\components\\Dashboard.js":"5","C:\\Users\\27000\\Desktop\\Parser\\src\\components\\Parser\\Parser.js":"6","C:\\Users\\27000\\Desktop\\Parser\\src\\components\\Parser\\styles.js":"7","C:\\Users\\27000\\Desktop\\Parser\\src\\components\\Parser\\ParsedSumm.js":"8"},{"size":264,"mtime":1611683128132,"results":"9","hashOfConfig":"10"},{"size":503,"mtime":1611678235736,"results":"11","hashOfConfig":"10"},{"size":1494,"mtime":1611742624475,"results":"12","hashOfConfig":"10"},{"size":1018,"mtime":1611677175685,"results":"13","hashOfConfig":"10"},{"size":937,"mtime":1611677739695,"results":"14","hashOfConfig":"10"},{"size":5990,"mtime":1611756692726,"results":"15","hashOfConfig":"10"},{"size":1378,"mtime":1611758437569,"results":"16","hashOfConfig":"10"},{"size":1029,"mtime":1611757980018,"results":"17","hashOfConfig":"10"},{"filePath":"18","messages":"19","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},"1s2jdpv",{"filePath":"21","messages":"22","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"23","usedDeprecatedRules":"20"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"26","usedDeprecatedRules":"20"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"33","usedDeprecatedRules":"20"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},"C:\\Users\\27000\\Desktop\\Parser\\src\\index.js",[],["38","39"],"C:\\Users\\27000\\Desktop\\Parser\\src\\App.js",["40","41","42"],"import './App.css';\nimport { makeStyles } from '@material-ui/core';\nimport Header from './components/Header';\nimport { Route, Switch, useHistory } from 'react-router-dom';\nimport Main from './components/Main';\n\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n  },\n}));\n\nfunction App() {\n  const classes = useStyles();\n  return (\n    <div className={classes.root}>\n     <Header userEmail={'user@test.ru'} />       \n        <Main />      \n    </div>\n  );\n}\n\nexport default App;\n","C:\\Users\\27000\\Desktop\\Parser\\src\\components\\Main.js",["43","44"],"import React, {useContext, useEffect} from 'react';\r\nimport {Link, Route} from 'react-router-dom'\r\nimport {  \r\n  makeStyles,\r\n  Drawer,\r\n  List,\r\n  ListItem,\r\n  ListItemIcon,\r\n  ListItemText,  \r\n  Toolbar,\r\n} from '@material-ui/core';\r\n\r\nimport MailIcon from '@material-ui/icons/Mail';\r\nimport Dashboard from './Dashboard';\r\nimport Parser from './Parser/Parser';\r\n\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  drawerPaper: {\r\n    width: 200,\r\n    [theme.breakpoints.down('xs')]: {\r\n      width: 50,\r\n      overflow: 'hidden'\r\n    },\r\n  },\r\n  drawer: {\r\n    width: 200,\r\n    [theme.breakpoints.down('xs')]: {\r\n      width: 50,\r\n    },\r\n  },\r\n  listItem: {\r\n    textDecoration: 'none',\r\n    color: 'inherit',\r\n  }\r\n}));\r\n\r\nconst Main = () => {\r\n  const classes = useStyles();  \r\n\r\n  return (\r\n    <>\r\n      <Drawer\r\n        variant='permanent'\r\n        className={classes.drawer}\r\n        classes={{\r\n          paper: classes.drawerPaper,\r\n        }}\r\n      >\r\n        <Toolbar />\r\n        <List>\r\n            <Link to='/parser' className={classes.listItem}>\r\n          <ListItem button>\r\n            <ListItemIcon>\r\n              <MailIcon />\r\n            </ListItemIcon>\r\n            <ListItemText >Парсер</ListItemText>\r\n          </ListItem>\r\n            </Link>\r\n        </List>\r\n      </Drawer>\r\n      <Route exact path=\"/\">\r\n        <Dashboard />\r\n      </Route>\r\n      <Route path=\"/parser\" component={Parser}/>\r\n      \r\n      \r\n    </>\r\n  );  \r\n};\r\n\r\nexport default Main;\r\n\r\n","C:\\Users\\27000\\Desktop\\Parser\\src\\components\\Header.js",[],"C:\\Users\\27000\\Desktop\\Parser\\src\\components\\Dashboard.js",[],"C:\\Users\\27000\\Desktop\\Parser\\src\\components\\Parser\\Parser.js",["45","46"],"import React, { useRef, useState } from 'react';\r\nimport {\r\n  Container,\r\n  Toolbar,\r\n  TextField,\r\n  Typography,\r\n  Box,\r\n  FormControlLabel,\r\n  Checkbox,\r\n  Switch,\r\n  MenuItem,\r\n  Select,\r\n  FormControl,\r\n  InputLabel,\r\n  IconButton,\r\n  List,\r\n} from '@material-ui/core';\r\nimport Icon from '@material-ui/core/Icon';\r\nimport numberToWordsRu from 'number-to-words-ru';\r\nimport { useForm } from 'react-hook-form';\r\nimport useStyles from './styles';\r\nimport ParsedSumm from './ParsedSumm';\r\n\r\nconst splitters = {\r\n  rub: ' руб',\r\n  usd: ' дол',\r\n  eur: ' евр',\r\n};\r\n\r\nconst Parser = () => {\r\n  const classes = useStyles();\r\n  const { handleSubmit, register, errors } = useForm({\r\n    mode: 'onChange',\r\n  });\r\n  const summInput = useRef();\r\n  const [withVAT, setWithVAT] = useState(false);\r\n  const [summ, setSumm] = useState('');\r\n  const [VAT, setVAT] = useState(20);\r\n  const [currency, setCurrency] = useState('rub');\r\n  const [parsedList, setParsedList] = useState([]);\r\n\r\n  const handleInputChange = ({ target: { value } }) => {\r\n    let numbersOnly = value.replace(/[^0-9.,]+/gm, '')\r\n    if(numbersOnly){\r\n      numbersOnly = numbersOnly\r\n      .match(/^\\d+([\\.,]?\\d?\\d?)/gm)[0]\r\n      .slice(0, 25);\r\n      setSumm(numbersOnly.replace(/,+/gm, '.'));\r\n    } else {\r\n      setSumm(numbersOnly);\r\n    }\r\n    summInput.current.value = numbersOnly;    \r\n  };\r\n  const handleCheckVAT = ({ target }) => {\r\n    setWithVAT(target.checked);\r\n  };\r\n  const handleVAT = ({ target }) => {\r\n    setVAT(target.value);\r\n  };\r\n  const handleCurrency = ({ target }) => {\r\n    setCurrency(target.value);\r\n  };\r\n  const parseSumm = (summ) => {\r\n    const parsed = numberToWordsRu.convert(summ, { currency });\r\n    const splitter = splitters[currency];\r\n    return `(${parsed.split(splitter).join(`)${splitter}`)}`;\r\n  };\r\n  const format = (num) => num.replace(/(\\.\\d{2})\\d*/, '$1').replace(/(\\d)(?=(\\d{3})+\\b)/g, '$1 ');\r\n  const finalizeResult = (summ) => {\r\n    if (!summ) return;\r\n    const baseResult = `${format(summ)} ${parseSumm(summ)}`;\r\n    const VATsumm = summ ? summ - summ / (VAT / 100 + 1) : null;\r\n    const isVATChecked = withVAT\r\n      ? ` включая НДС (${VAT}%) в сумме ${format(VATsumm.toFixed(2))} ${parseSumm(VATsumm)}`\r\n      : '';\r\n    const joinedResult = [baseResult, isVATChecked].filter(Boolean).join().replace(/\\./gm, ',');\r\n    return `${joinedResult}.`;\r\n  };\r\n  const onSubmit = (data) => {\r\n    const parsed = finalizeResult(summ);\r\n    setParsedList([...parsedList, parsed]);\r\n  };\r\n  const deleteParsedItem = (i) => {    \r\n    setParsedList((state) => {\r\n      return state.filter((el, ind) => ind !== i);\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Container className={classes.container}>\r\n        <Toolbar />\r\n        <Box className={classes.inputBox}>\r\n          <form onSubmit={handleSubmit(onSubmit)} className={classes.form} noValidate>\r\n            <TextField\r\n              label='Введите сумму'\r\n              name='summ'\r\n              autoComplete='off'\r\n              fullWidth\r\n              autoFocus\r\n              className={classes.input}\r\n              InputProps={{ inputProps: { ref: summInput } }}\r\n              onChange={handleInputChange}\r\n              inputRef={register({\r\n                pattern: {\r\n                  value: /^[\\d.,]+$/,\r\n                  message: 'Только цифры',\r\n                },\r\n                maxLength: {\r\n                  value: 20,\r\n                  message: 'Ну перестань!',\r\n                },\r\n              })}\r\n              error={!!errors.summ}\r\n              helperText={errors.summ ? errors.summ.message : null}\r\n            />\r\n            <IconButton type='submit' aria-label='close' className={classes.addButton}>\r\n              <Icon color='primary'>add_circle</Icon>\r\n            </IconButton>\r\n            <FormControl className={classes.currency}>\r\n              <InputLabel id='demo-simple-select-helper-label'>Валюта</InputLabel>\r\n              <Select\r\n                labelId='demo-simple-select-helper-label'\r\n                id='demo-simple-select-helper'\r\n                value={currency}\r\n                onChange={handleCurrency}\r\n              >\r\n                <MenuItem value={'rub'}>₽</MenuItem>\r\n                <MenuItem value={'usd'}>$</MenuItem>\r\n                <MenuItem value={'eur'}>€</MenuItem>\r\n              </Select>\r\n            </FormControl>\r\n          </form>\r\n          <Box className={classes.VATBox}>\r\n            <FormControlLabel\r\n              control={\r\n                // <Checkbox checked={withVAT} onChange={handleCheckVAT} name='withVAT' color='primary' />\r\n                <Switch checked={withVAT} onChange={handleCheckVAT} name='withVAT' color='primary' />\r\n              }\r\n              label='с НДС'\r\n            />\r\n            <FormControl\r\n              className={classes.VATValue}\r\n              style={{ visibility: `${withVAT ? 'visible' : 'hidden'}` }}\r\n            >\r\n              <InputLabel id='demo-simple-select-helper-label'>НДС, %</InputLabel>\r\n              <Select\r\n                labelId='demo-simple-select-helper-label'\r\n                id='demo-simple-select-helper'\r\n                value={VAT}\r\n                onChange={handleVAT}\r\n              >\r\n                {/* {Array(20).fill(0).map((el,i) => <MenuItem key={i} value={++i}>{`${++i}%`}</MenuItem>)} */}\r\n                <MenuItem value={20}>20%</MenuItem>\r\n                <MenuItem value={18}>18%</MenuItem>\r\n              </Select>\r\n            </FormControl>\r\n          </Box>\r\n        </Box>\r\n        {summ && <Typography className={classes.result}>{finalizeResult(summ)}</Typography>}\r\n        {parsedList.length > 0 && (\r\n          <List>\r\n            {parsedList.map((s, i) => (\r\n              <ParsedSumm key={i} text={s} deleteItem={() => deleteParsedItem(i)} />\r\n            ))}\r\n          </List>\r\n        )}\r\n      </Container>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Parser;\r\n","C:\\Users\\27000\\Desktop\\Parser\\src\\components\\Parser\\styles.js",[],"C:\\Users\\27000\\Desktop\\Parser\\src\\components\\Parser\\ParsedSumm.js",[],{"ruleId":"47","replacedBy":"48"},{"ruleId":"49","replacedBy":"50"},{"ruleId":"51","severity":1,"message":"52","line":4,"column":10,"nodeType":"53","messageId":"54","endLine":4,"endColumn":15},{"ruleId":"51","severity":1,"message":"55","line":4,"column":17,"nodeType":"53","messageId":"54","endLine":4,"endColumn":23},{"ruleId":"51","severity":1,"message":"56","line":4,"column":25,"nodeType":"53","messageId":"54","endLine":4,"endColumn":35},{"ruleId":"51","severity":1,"message":"57","line":1,"column":16,"nodeType":"53","messageId":"54","endLine":1,"endColumn":26},{"ruleId":"51","severity":1,"message":"58","line":1,"column":28,"nodeType":"53","messageId":"54","endLine":1,"endColumn":37},{"ruleId":"51","severity":1,"message":"59","line":9,"column":3,"nodeType":"53","messageId":"54","endLine":9,"endColumn":11},{"ruleId":"60","severity":1,"message":"61","line":46,"column":21,"nodeType":"62","messageId":"63","endLine":46,"endColumn":22,"suggestions":"64"},"no-native-reassign",["65"],"no-negated-in-lhs",["66"],"no-unused-vars","'Route' is defined but never used.","Identifier","unusedVar","'Switch' is defined but never used.","'useHistory' is defined but never used.","'useContext' is defined but never used.","'useEffect' is defined but never used.","'Checkbox' is defined but never used.","no-useless-escape","Unnecessary escape character: \\..","Literal","unnecessaryEscape",["67","68"],"no-global-assign","no-unsafe-negation",{"messageId":"69","fix":"70","desc":"71"},{"messageId":"72","fix":"73","desc":"74"},"removeEscape",{"range":"75","text":"76"},"Remove the `\\`. This maintains the current functionality.","escapeBackslash",{"range":"77","text":"78"},"Replace the `\\` with `\\\\` to include the actual backslash character.",[1166,1167],"",[1166,1166],"\\"]